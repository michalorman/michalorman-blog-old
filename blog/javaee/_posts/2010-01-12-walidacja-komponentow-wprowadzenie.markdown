---
layout: post
title: Walidacja komponentów w J2EE 6 - Wprowadzenie
description: Wrowadzenie do cyklu wpisów dotyczących specyfikacji JSR-303 Bean Validation. Jest to jedna z najbardziej oczekiwanych specyfikacji Javy EE 6.
keywords: Java J2EE Enterprise Edition JSR-303 Bean Validation
---
Walidacja komponentów (ziaren) w platformie Java EE to jak dotąd nieporozumienie. Przede wszystkim nie znajduje się ona tam gdzie być powinna, czyli w modelu, za to umieszczana jest w warstwie widoku czy to w postaci jakiś walidatorów podpinanych jako komponenty JSF, albo w jakiś backing beanach (które nie robiły nic innego jak przechowywały wartość formularza). Podejście to łamało podstawowe zasady wzorca <a href="http://en.wikipedia.org/wiki/Model–view–controller">MVC</a>. We wzorcu tym część odpowiedzialna za V czyli za widok powinna służyć jedynie do prezentacji wyników działania aplikacji i udostępniania formularzy, a nie do realizowania logiki biznesowej! Logika ta jest częścią modelu i tam się powinna znaleźć! Inn a sprawą jest to czy owe ograniczenia powinny być zapisywane tylko na poziomie modelu czy również odzwierciedlane na poziomie bazy (moim zdaniem wystarczy w samym modelu, ale to temat na inną dyskusję).

W dotychczasowym podejściu do walidacji wielkim problemem okazywało się sprawdzenie poprawności kilku zależnych pól formularza. Nawet <a href="https://www.hibernate.org/412.html">hibernate validator</a> nie dawał sensownego rozwiązania (przyszło one dopiero w wersji 4-tej, ale uprzedzam sam siebie). Kończyło się na tym, że musieliśmy na piechotę tworzyć jakieś anemiczne klasy, które przechowywały tylko wartości z formularza i sprawdzały ich poprawność. Nie wspomnę nawet, że w przypadku frameworka JSF musieliśmy robić to w fazie 5-tej co zasadniczo łamało model tego frameworka (faza 5-ta powinna uruchamiać się z poprawnymi danymi) a do tego nastręczała problemów z podpinaniem komunikatów do odpowiednich komponentów.

W każdym razie jak do tej pory nie było dobrze i trzeba było ratować się jakimiś wymyślnym programistycznym kung-fu. Jednakże nowa specyfikacja JEE 6 postanowiła to zmienić za sprawą specyfikacji <a href="http://jcp.org/en/jsr/detail?id=303">JSR-303: Bean Validation</a>. Niniejszym rozpoczynam cykl wpisów dotyczących analizy tejże specyfikacji. Sporo sobie po niej obiecuję i mam nadzieję, że znajdę w niej proste i eleganckie rozwiązania problemów z jakimi się borykałem. Pobieżny rzut okiem na specyfikację wydawał się bardzo obiecujący i jestem nieco podekscytowany tym co mam nadzieję w niej znaleźć. No ale nie ma co zapeszać, a tylko brać się do lektury.